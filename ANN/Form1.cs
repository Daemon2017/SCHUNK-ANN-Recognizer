using System;
using System.Windows.Forms;
using System.Net.Sockets;
using System.Diagnostics;

namespace ANN
{
    public partial class Form1 : Form
    {
        public PictureBox[] Finger;

        public Form1()
        {
            InitializeComponent();
        }

        void button1_Click(object sender, EventArgs e)
        {
            pictureBox1.Image = null;
            textBox4.Text = null;

            try
            {
                receive("sensor", "127.0.0.1", 4446);
                receive("angles", "127.0.0.1", 4447);

                showTactileNetworkResult();
            }
            catch (SocketException)
            {
                textBox4.Text = "Ошибка приёма данных!";
            }

            button12.Enabled = true;
        }

        void button2_Click(object sender, EventArgs e)
        {
            textBox1.Text = null;

            try
            {
                receive("weight", "172.31.1.147", 30000);

                showWeightNetworkResult();
            }
            catch (SocketException)
            {
                textBox1.Text = "Ошибка приёма данных!";
            }
        }

        void button3_Click(object sender, EventArgs e)
        {
            var result = MessageBox.Show("Вы уверены, что хотите удалить все изученные объекты из памяти ИНС?",
                                         "Очистка памяти ИНС",
                                         MessageBoxButtons.YesNo,
                                         MessageBoxIcon.Question);

            if (result == DialogResult.Yes)
            {
                Array.Resize(ref InputTactile, 6);
                InputTactile[0] = new double[493] { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.36225, 0.635, 0.37925, 0.0, 0.0, 0.0, 0.7405, 0.821, 0.74875, 0.2245, 0.0, 0.0, 0.8215, 0.821, 0.8205, 0.5425, 0.0, 0.0, 0.82125, 0.82075, 0.82, 0.596, 0.0, 0.0, 0.548, 0.821, 0.82075, 0.3535, 0.0, 0.0, 0.166, 0.358, 0.296, 0.0, 0.0, 0.0, 0.0, 0.00975, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.12825, 0.20125, 0.267, 0.1445, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0075, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.15975, 0.04575, 0.0, 0.0, 0.0, 0.237, 0.49525, 0.37875, 0.06275, 0.0, 0.055, 0.46525, 0.785, 0.692, 0.4055, 0.009, 0.0, 0.29, 0.59375, 0.609, 0.26625, 0.0, 0.0, 0.13825, 0.3915, 0.36625, 0.0585, 0.0, 0.0, 0.00675, 0.20475, 0.187, 0.0, 0.0, 0.0, 0.0, 0.0, 0.02525, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.158, 0.6315, 0.4845, 0.0, 0.0, 0.1345, 0.83225, 0.83175, 0.832, 0.0, 0.0, 0.186, 0.8325, 0.8315, 0.832, 0.832, 0.0, 0.43875, 0.83225, 0.8315, 0.8315, 0.83225, 0.0, 0.13625, 0.83225, 0.83125, 0.832, 0.39725, 0.0, 0.0, 0.358, 0.609, 0.4155, 0.037, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.489163043478261, -0.0769239130434783, 0.158467391304348, -0.0685217391304348, 0.153684782608696, -0.0959673913043478, 0.198630434782609 };
                InputTactile[1] = new double[493] { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.37325, 0.0, 0.0, 0.0, 0.0, 0.0, 0.81825, 0.13625, 0.0, 0.0, 0.0, 0.0, 0.81825, 0.2735, 0.0, 0.0, 0.0, 0.0, 0.818, 0.3795, 0.0, 0.0, 0.0, 0.0, 0.81875, 0.08675, 0.0, 0.0, 0.0, 0.0, 0.60375, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3485, 0.0, 0.0, 0.0, 0.0, 0.0, 0.03725, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.16475, 0.21675, 0.0, 0.0, 0.0, 0.19475, 0.541, 0.535, 0.124, 0.0, 0.0, 0.3505, 0.8225, 0.82225, 0.36825, 0.0, 0.0, 0.384, 0.8225, 0.82275, 0.3145, 0.0, 0.0, 0.16925, 0.632, 0.61525, 0.1695, 0.0, 0.0, 0.074, 0.41225, 0.38175, 0.03425, 0.0, 0.0, 0.0, 0.13925, 0.1055, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4355, 0.82675, 0.0, 0.0, 0.0, 0.0, 0.76275, 0.82225, 0.0, 0.0, 0.0, 0.061, 0.81875, 0.82075, 0.0, 0.0, 0.0, 0.0, 0.67475, 0.82275, 0.0, 0.0, 0.0, 0.0, 0.32425, 0.75075, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19075, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.489173913043478, -0.109163043478261, 0.18129347826087, -0.112826086956522, 0.163771739130435, -0.123510869565217, 0.206478260869565 };
                InputTactile[2] = new double[493] { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.55525, 0.0, 0.0, 0.0, 0.0, 0.0, 0.75725, 0.0, 0.0, 0.0, 0.0, 0.0, 0.221, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.08375, 0.16475, 0.15475, 0.05575, 0.0465, 0.177, 0.49325, 0.7055, 0.823, 0.82175, 0.822, 0.8215, 0.10375, 0.22275, 0.29025, 0.51575, 0.7035, 0.759, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2315, 0.0, 0.0, 0.0, 0.0, 0.0, 0.827, 0.0, 0.0, 0.0, 0.0, 0.02125, 0.8265, 0.0, 0.0, 0.0, 0.0, 0.0, 0.662, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1745, 0.489184782608696, -0.109380434782609, 0.0509565217391304, -0.0942826086956522, 0.00703260869565217, -0.149532608695652, 0.206467391304348 };
                InputTactile[3] = new double[493] { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2105, 0.4095, 0.51275, 0.194, 0.0, 0.0, 0.819, 0.818, 0.81825, 0.81825, 0.416, 0.0, 0.81875, 0.81875, 0.81825, 0.818, 0.7515, 0.0, 0.0, 0.04725, 0.0545, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2195, 0.77875, 0.76475, 0.296, 0.0, 0.0, 0.20375, 0.44225, 0.4045, 0.10325, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.82175, 0.8205, 0.82075, 0.733, 0.0, 0.8215, 0.82275, 0.82325, 0.82475, 0.82525, 0.37575, 0.18325, 0.51225, 0.641, 0.6125, 0.29125, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.489108695652174, -0.0906195652173913, 0.0102934782608696, -0.0855434782608696, 0.00323913043478261, -0.155358695652174, 0.206597826086957 };
                InputTactile[4] = new double[493] { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.7845, 0.818, 0.81825, 0.32525, 0.0, 0.0, 0.818, 0.8175, 0.81775, 0.81825, 0.0, 0.139, 0.27975, 0.22925, 0.18675, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.27525, 0.07075, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.61725, 0.81775, 0.25825, 0.0, 0.0, 0.822, 0.82125, 0.821, 0.8215, 0.0, 0.45575, 0.82175, 0.82125, 0.821, 0.822, 0.77075, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.489173913043478, -0.0349130434782609, 0.00492391304347826, -0.0314130434782609, 0.00358695652173913, -0.0548152173913043, 0.0776304347826087 };
                InputTactile[5] = new double[493] { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.06075, 0.05875, 0.0, 0.0, 0.0, 0.01075, 0.17375, 0.236, 0.066, 0.0, 0.0, 0.08775, 0.40475, 0.5495, 0.149, 0.0, 0.0, 0.20875, 0.63975, 0.7395, 0.2865, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.107, 0.0635, 0.0, 0.0, 0.0, 0.09475, 0.25975, 0.2385, 0.0, 0.0, 0.0, 0.15325, 0.32875, 0.35825, 0.1345, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.112, 0.3695, 0.1765, 0.0, 0.0, 0.0, 0.27975, 0.566, 0.49775, 0.073, 0.0, 0.0, 0.321, 0.74025, 0.754, 0.13, 0.0, 0.00575, 0.3775, 0.77075, 0.6945, 0.11375, 0.0, 0.0, 0.4185, 0.74125, 0.5385, 0.0, 0.0, 0.0, 0.1585, 0.5265, 0.329, 0.0, 0.489108695652174, -0.021054347826087, -0.000130434782608696, -0.0166521739130435, -9.78260869565217E-05, -0.0112065217391304, -0.000608695652173913 };
                save(@"Ideal_Input_Tactile.cfg", InputTactile);

                Array.Resize(ref OutputTactile, 6);
                OutputTactile[0] = new double[6] { 1.0, -1.0, -1.0, -1.0, -1.0, -1.0 };
                OutputTactile[1] = new double[6] { -1.0, 1.0, -1.0, -1.0, -1.0, -1.0 };
                OutputTactile[2] = new double[6] { -1.0, -1.0, 1.0, -1.0, -1.0, -1.0 };
                OutputTactile[3] = new double[6] { -1.0, -1.0, -1.0, 1.0, -1.0, -1.0 };
                OutputTactile[4] = new double[6] { -1.0, -1.0, -1.0, -1.0, 1.0, -1.0 };
                OutputTactile[5] = new double[6] { -1.0, -1.0, -1.0, -1.0, -1.0, 1.0 };
                save(@"Ideal_Output_Tactile.cfg", OutputTactile);

                Array.Resize(ref NamesTactile, 6);
                NamesTactile[0] = "Сидр";
                NamesTactile[1] = "Овальный чай";
                NamesTactile[2] = "Прямоугольный чай большой";
                NamesTactile[3] = "Кружка зеленая";
                NamesTactile[4] = "Кружка стекляная";
                NamesTactile[5] = "Кола 0.25";
                saveNames("tactile");
            }

            tactileNetwork = null;

            button1.Enabled = false;
        }

        void button4_Click(object sender, EventArgs e)
        {
            var result = MessageBox.Show("Вы уверены, что хотите удалить все изученные объекты из памяти ИНС?",
                                         "Очистка памяти ИНС",
                                         MessageBoxButtons.YesNo,
                                         MessageBoxIcon.Question);

            if (result == DialogResult.Yes)
            {
                Array.Resize(ref InputWeight, 7);
                InputWeight[0] = new double[7] { 0.07, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0 };
                InputWeight[1] = new double[7] { 0.01, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0 };
                InputWeight[2] = new double[7] { 0.01, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0 };
                InputWeight[3] = new double[7] { 0.01, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0 };
                InputWeight[4] = new double[7] { 0.03, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0 };
                InputWeight[5] = new double[7] { 0.0418, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0 };
                InputWeight[6] = new double[7] { 0.0057, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0 };
                save(@"Ideal_Input_Weight.cfg", InputWeight);

                Array.Resize(ref OutputWeight, 7);
                OutputWeight[0] = new double[7] { 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0 };
                OutputWeight[1] = new double[7] { -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0 };
                OutputWeight[2] = new double[7] { -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0 };
                OutputWeight[3] = new double[7] { -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0 };
                OutputWeight[4] = new double[7] { -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0 };
                OutputWeight[5] = new double[7] { -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0 };
                OutputWeight[6] = new double[7] { -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0 };
                save(@"Ideal_Output_Weight.cfg", OutputWeight);

                Array.Resize(ref NamesWeight, 7);
                NamesWeight[0] = "Сидр";
                NamesWeight[1] = "Овальный чай";
                NamesWeight[2] = "Прямоугольный чай большой";
                NamesWeight[3] = "Кружка зеленая";
                NamesWeight[4] = "Кружка стекляная";
                NamesWeight[5] = "Кола 0.25 полная";
                NamesWeight[6] = "Кола 0.25 пустая";
                saveNames("weight");
            }
        }

        void button5_Click(object sender, EventArgs e)
        {
            Process.Start(@"Ideal_Input_Tactile.cfg");
        }

        private void button10_Click(object sender, EventArgs e)
        {
            Process.Start(@"Ideal_Input_Weight.cfg");
        }

        void button6_Click(object sender, EventArgs e)
        {
            Process.Start(@"Ideal_Output_Tactile.cfg");
        }

        void button9_Click(object sender, EventArgs e)
        {
            Process.Start(@"Ideal_Output_Weight.cfg");
        }

        void button7_Click(object sender, EventArgs e)
        {
            Process.Start(@"Names_Tactile.cfg");
        }

        void button8_Click(object sender, EventArgs e)
        {
            Process.Start(@"Names_Weight.cfg");
        }

        int time = 5;
        void timer1_Tick(object sender, EventArgs e)
        {
            time--;
            button1.Text = time.ToString();

            if (time == 0)
            {
                button1.Text = "Распознать";
                button1.Enabled = true;
                timer1.Stop();
                time = 5;
            }
        }

        private void button11_Click(object sender, EventArgs e)
        {
            tactileNetwork = null;

            createNetworkForTactile();
            trainTactileNetwork();

            MessageBox.Show("Обучение завершено!",
                            "Готово",
                            MessageBoxButtons.OK);

            button1.Enabled = true;
        }

        private void button12_Click(object sender, EventArgs e)
        {
            weightNetwork = null;

            createNetworkForWeight();
            trainWeightNetwork();

            MessageBox.Show("Обучение завершено!",
                            "Готово",
                            MessageBoxButtons.OK);

            button2.Enabled = true;
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            Finger = new PictureBox[486];

            DrawFinger(00, 9, 330, 14);
            DrawFinger(84, 9, 489, 13);

            DrawFinger(162, 80, 330, 14);
            DrawFinger(246, 80, 489, 13);

            DrawFinger(324, 151, 330, 14);
            DrawFinger(408, 151, 489, 13);
        }
    }
}